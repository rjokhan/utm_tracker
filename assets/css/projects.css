:root{
  --pinkTitle:#ff6ea1;
  --pinkActive:#f86491;
  --txt:#0b0b0b;
  --muted:#7a7a7a;
  --panel:#ffd7e5;
  --shadow:0 8px 20px rgba(0,0,0,.06);
}

/* base */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:#fff;color:var(--txt);font-family:Inter,system-ui,Arial,sans-serif}

/* ===== Sidebar (desktop) ===== */
.sidebar{position:fixed;inset:0 auto 0 0;width:300px;background:#fff;display:flex;flex-direction:column;padding:24px 20px}
.brand img{width:200px;height:auto;display:block;object-fit:contain}
.side-actions{margin:12px 0 8px;display:flex;flex-direction:column;gap:12px}
.action{display:flex;justify-content:space-between;align-items:center;gap:12px;background:#ffe3ec;padding:16px;border:0;border-radius:16px;font-weight:900;color:#000}
.action i{display:grid;place-items:center;width:44px;height:44px;border-radius:50%;background:var(--pinkActive);color:#fff;font-style:normal;font-size:26px;line-height:1}
.nav{display:flex;flex-direction:column;gap:14px;margin:18px 0}
.nav-item{display:flex;align-items:center;gap:14px;padding:12px 14px;border-radius:14px;text-decoration:none;color:#000;font-weight:800}
.nav-item img{width:24px;height:24px;filter:brightness(0) saturate(100%)}
.nav-item.active{background:#ffe4eb;color:var(--pinkActive)}
.nav-item.active img{filter:none}
.powered{margin-top:auto;text-align:center}
.powered-text{font-size:13px;color:#3a3a3a;margin-bottom:8px}
.powered-logo{width:40px;height:auto;display:block;margin:0 auto}

/* ===== Content ===== */
.content{margin-left:300px;height:100vh;overflow:auto;background:#fff;padding:36px 44px 60px}
.header{margin-bottom:8px}
.title{margin:0;font-size:64px;color:var(--pinkTitle);font-weight:900}
.status{margin-top:8px;color:#9a9a9a}

/* ===== Projects list / card (desktop) ===== */
.projects{display:flex;flex-direction:column;gap:18px;margin-top:10px;max-width:1050px}
.projects .project-row{position:relative;display:grid;grid-template-columns:1fr auto auto;column-gap:18px;align-items:center;background:var(--panel);border-radius:16px;padding:18px 18px 18px 62px;box-shadow:var(--shadow)}
.projects .project-row::before{content:"";position:absolute;left:12px;top:12px;bottom:12px;width:16px;border-radius:10px;background:linear-gradient(180deg,#ff6ea1 0%, #f86491 100%);box-shadow:inset 0 0 0 3px #ffc0d4}
.project-name{font-weight:900;font-size:28px;letter-spacing:.2px;margin:0}
.project-dates{justify-self:center;font-weight:600;color:#3a3a3a;margin:0}
.go-btn,.go{appearance:none;border:0;outline:0;display:grid;place-items:center;width:52px;aspect-ratio:1/1;border-radius:50%;background:var(--pinkActive);color:#fff;box-shadow:0 10px 18px rgba(0,0,0,.12);cursor:pointer}
.go-btn img,.go img{width:20px;height:20px;display:block}

/* ===== Modal + Overlay (единая версия) ===== */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.42);opacity:0;visibility:hidden;pointer-events:none;z-index:10000;transition:opacity .2s ease, visibility .2s ease}
.overlay.open{opacity:1;visibility:visible;pointer-events:auto}
.modal{
  position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) scale(.98);
  width:min(560px,92vw);max-width:92vw;
  max-height:calc(100dvh - 32px); /* не вылезает за экран */
  padding:26px;background:#fff;color:var(--txt);border-radius:24px;
  box-shadow:0 26px 50px rgba(0,0,0,.25);
  overflow:auto;opacity:0;visibility:hidden;pointer-events:none;z-index:10001;
  transition:transform .2s ease,opacity .2s ease,visibility .2s ease;
}
.modal.open{opacity:1;visibility:visible;pointer-events:auto;transform:translate(-50%,-50%) scale(1)}
.modal-title{margin:6px 0 10px;font-size:22px}
.modal-title.small{margin-top:16px}
.field{width:100%;height:48px;padding:12px 14px;border-radius:12px;border:2px solid #0b0b0b;background:#fff;color:#000;font-size:16px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.hint{font-size:12px;margin:6px 0 6px 4px;opacity:.9}
.modal-actions{margin-top:14px;display:flex;gap:10px}
.btn{background:#fff;color:#f13a76;border:2px solid #ffd3e0;padding:12px 18px;border-radius:14px;font-weight:900}
.btn.ghost{background:transparent;border:2px solid #000;color:#000}
body.modal-open{overflow:hidden}

/* ===== Toast ===== */
.corner{position:fixed;right:16px;top:16px;display:flex;flex-direction:column;gap:8px}
.alert{padding:12px 18px;border-radius:12px;color:#fff;font-weight:900;box-shadow:0 14px 28px rgba(0,0,0,.15)}
.alert.ok{background:#32d14a}
.alert.err{background:#ef4444}

/* ===== Mobile drawer (общая логика как на Dashboard) ===== */
#mRail,#mBurger{display:none}
@media (max-width:900px){#mRail,#mBurger{display:block}}

@media (max-width:768px){
  :root{ --rail-w:22px; }

  /* Розовый рейл — слева в закрытом, справа в открытом, всегда видим */
  .m-rail{position:fixed;inset:0 auto 0 0;width:var(--rail-w);background:#ffe0ea;z-index:1300;transform:translateX(0);transition:transform .36s cubic-bezier(.22,.61,.36,1)}
  .m-burger{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:28px;height:28px;padding:0;border:0;background:transparent;display:grid;place-items:center;cursor:pointer}
  .m-burger img{width:20px;height:20px;display:block}
  .mnav-open .m-rail{transform:translateX(calc(100vw - var(--rail-w)))}

  /* Контент — отступ только здесь (убрали двойной отступ) */
  .content{margin-left:0 !important;padding:24px 16px 24px calc(16px + var(--rail-w)) !important}
  .title{font-size:42px}

  /* Боковое меню — полноэкранный дровер под рейлом */
  .sidebar{
    position:fixed !important; top:0; left:0; right:0; bottom:0;
    width:100vw; max-width:100vw; transform:translateX(-100%);
    transition:transform .36s cubic-bezier(.22,.61,.36,1);
    background:rgba(255,255,255,.96); -webkit-backdrop-filter:blur(10px); backdrop-filter:blur(10px);
    box-shadow:0 20px 50px rgba(0,0,0,.12); z-index:1200; padding:24px 20px;
  }
  .mnav-open .sidebar{transform:translateX(0); padding-right:calc(20px + var(--rail-w))}

  /* Список — обычные внутренние поля, без дополнительного «rail» */
  .projects{gap:12px;padding:0}

  /* Карточка: две строки слева, стрелка справа */
  .projects .project-row{
    grid-template-columns:1fr auto;
    grid-template-areas:"title arrow" "dates arrow";
    row-gap:6px; column-gap:12px; padding:14px 14px 14px 64px;
    box-shadow:0 8px 20px rgba(0,0,0,.08);
  }
  .projects .project-row::before{left:16px;top:10px;bottom:10px;width:12px;border-radius:8px;box-shadow:inset 0 0 0 2px #ffc0d4}
  .project-name{grid-area:title;font-size:20px;line-height:1.15;margin:0;word-break:break-word}
  .project-dates{grid-area:dates;justify-self:start;font-size:13px;color:#444;margin:0}
  .go-btn,.go{grid-area:arrow;justify-self:end;align-self:center;width:46px}
}
/* === Popup tidy & symmetric paddings === */
.modal{
  /* одинаковые поля со всех сторон */
  padding: 24px !important;
}

/* убираем "ползущие" отступы у внутренних блоков */
.modal > h3,
.modal > .modal-title,
.modal > form,
.modal .modal-actions{
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* форма без внешних отступов, всё тянется на ширину модалки */
.modal form{ margin: 0 !important; width: 100% !important; }

/* сетка дат — колонки равные, без внутренних «подпрыгиваний» */
.modal .grid-2{
  grid-template-columns: 1fr 1fr !important;
  width: 100% !important;
}

/* кнопки без "самовольных" отступов, аккуратно слева */
.modal .btn{ margin: 0 !important; }
.modal .modal-actions{
  justify-content: flex-start !important;
  gap: 10px !important;
}

/* модалка не вылезает за экран даже с системными панелями */
.modal{
  max-height: calc(100dvh - 32px) !important;
  overflow: auto !important;
}

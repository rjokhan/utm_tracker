:root{
  --pinkTitle:#ff6ea1;
  --pinkActive:#f86491;
  --txt:#0b0b0b;
  --muted:#7a7a7a;
  --panel:#ffd7e5;  /* карточка проекта */
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:#fff;color:var(--txt);font-family:Inter,system-ui,Arial,sans-serif}

/* Sidebar */
.sidebar{position:fixed;inset:0 auto 0 0;width:300px;background:#fff;display:flex;flex-direction:column;padding:24px 20px}
.brand img{width:200px;height:auto;display:block;object-fit:contain}
.side-actions{margin:12px 0 8px;display:flex;flex-direction:column;gap:12px}
.action{
  display:flex;justify-content:space-between;align-items:center;gap:12px;
  background:#ffe3ec;padding:16px 16px;border:0;border-radius:16px;font-weight:900;color:#000;
}
.action i{display:grid;place-items:center;width:44px;height:44px;border-radius:50%;background:var(--pinkActive);color:#fff;font-style:normal;font-size:26px;line-height:1}



/* === Modal + Overlay fix (stacking & clicks) === */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.42);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;        /* не ловит клики, пока скрыт */
  z-index: 10000;              /* ниже модалки */
  transition: opacity .2s ease, visibility .2s ease;
}
.overlay.open {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;        /* кликается для закрытия вокруг модалки */
}

.modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(.98);
  width: min(560px, 92vw);
  max-height: 86vh;
  overflow: auto;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 12px 40px rgba(0,0,0,.2);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;        /* пока скрыта — не ловит клики */
  z-index: 10001;              /* ВЫШЕ оверлея */
  transition: transform .2s ease, opacity .2s ease, visibility .2s ease;
}
.modal.open {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;        /* клики доходят до кнопок */
  transform: translate(-50%, -50%) scale(1);
}

body.modal-open { overflow: hidden; }  /* блокируем скролл фона */



.nav{display:flex;flex-direction:column;gap:14px;margin:18px 0}
.nav-item{display:flex;align-items:center;gap:14px;padding:12px 14px;border-radius:14px;text-decoration:none;color:#000;font-weight:800}
.nav-item img{width:24px;height:24px;filter:brightness(0) saturate(100%)}
.nav-item.active{background:#ffe4eb;color:var(--pinkActive)}
.nav-item.active img{filter:none}

.powered{margin-top:auto;text-align:center}
.powered-text{font-size:13px;color:#3a3a3a;margin-bottom:8px}
.powered-logo{width:40px;height:auto;display:block;margin:0 auto}

/* Content */
.content{margin-left:300px;height:100vh;overflow:auto;background:#fff;padding:36px 44px 60px}
.header{margin-bottom:8px}
.title{margin:0;font-size:64px;color:var(--pinkTitle);font-weight:900}
.status{margin-top:8px;color:#9a9a9a}
.muted{color:#9a9a9a}

/* Projects list */
.projects{display:flex;flex-direction:column;gap:18px;margin-top:10px;max-width:1050px}
.project-card{
  background:var(--panel);
  border-radius:16px;box-shadow:var(--shadow);
  padding:18px 20px;display:flex;justify-content:space-between;align-items:center;
}
.project-name{font-weight:900;font-size:36px;letter-spacing:.3px}
.project-dates{color:#333;margin-top:6px}
.go{
  width:56px;height:56px;border-radius:50%;display:grid;place-items:center;
  background:var(--pinkActive);box-shadow:0 10px 18px rgba(0,0,0,.06)
}
.go img{width:24px;height:24px;filter:brightness(100%)}

/* Modal */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.3);backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:.2s}
.overlay.show{opacity:1;pointer-events:auto}
.modal{
  position:fixed;left:50%;top:50%;transform:translate(-50%,-44%);
  width:min(560px,92vw);background:#f86491;color:#fff;padding:26px;border-radius:24px;
  box-shadow:0 26px 50px rgba(0,0,0,.25);opacity:0;pointer-events:none;transition:.2s;
}
.modal.show{opacity:1;pointer-events:auto;transform:translate(-50%,-50%)}
.modal-title{margin:6px 0 10px;font-size:22px}
.modal-title.small{margin-top:16px}
.field{width:100%;padding:12px 14px;border-radius:12px;border:0;background:#fff;color:#000;font-size:16px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.hint{font-size:12px;margin:6px 0 6px 4px;opacity:.9}
.modal-actions{margin-top:16px;display:flex;gap:10px}
.btn{background:#fff;color:#f13a76;border:2px solid #ffd3e0;padding:12px 18px;border-radius:14px;font-weight:900}
.btn.ghost{background:transparent;border:2px solid #fff;color:#fff}

/* Corner alerts */
.corner{position:fixed;right:16px;top:16px;display:flex;flex-direction:column;gap:8px}
.alert{padding:12px 18px;border-radius:12px;color:#fff;font-weight:900;box-shadow:0 14px 28px rgba(0,0,0,.15)}
.alert.ok{background:#32d14a}
.alert.err{background:#ef4444}
.slide{animation:slide 2s forwards}
@keyframes slide{0%{transform:translateX(0);opacity:1}80%{transform:translateX(12px);opacity:1}100%{transform:translateX(380px);opacity:0}}
/* ===== PATCH 2025-10-07 — projects page fix (без удаления старого) ===== */

/* 1) Приводим оверлей/модалку к единому поведению (.open).
      Оставляем совместимость с .show на случай, если где-то живёт старый код. */
.overlay.open,
.overlay.show{
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  backdrop-filter: blur(2px);
}
.modal.open,
.modal.show{
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  transform: translate(-50%, -50%) scale(1) !important;
  z-index: 10001 !important;
}
/* Цвет и отступы модалки в списке проектов — нейтральные (не розовая панель) */
#create-project-modal.modal{
  background: #fff !important;
  color: var(--txt) !important;
  padding: 26px !important;
  border-radius: 24px !important;
}

/* 2) Карточки списка проектов — у нас класс .project-row, а не .project-card */
.projects .project-row{
  background: var(--panel);
  border-radius: 16px;
  padding: 18px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  box-shadow: 0 8px 20px rgba(0,0,0,.06);
}
.projects .project-row .project-name{
  font-weight: 900;
  font-size: 32px;           /* твоё 36px можно оставить на .project-name выше */
  letter-spacing: .2px;
}
.projects .project-row .project-dates{
  color: #333;
  opacity: .9;
  margin-top: 6px;
}
.projects .project-row.empty{
  background: transparent;
  color: var(--muted);
  border: 2px dashed #f7b6c7;
  border-radius: 16px;
  padding: 18px 20px;
}

/* 3) Скелетон (loading…) */
.projects .project-row.skeleton{
  position: relative;
  overflow: hidden;
  background: linear-gradient(90deg,#fbe8ef 25%, #feeef4 37%, #fbe8ef 63%);
  background-size: 400% 100%;
  animation: shimmer 1.2s infinite linear;
}
@keyframes shimmer{
  0%{ background-position: 100% 0 }
  100%{ background-position: 0 0 }
}

/* 4) Кнопка перехода в проект */
.go-btn{
  -webkit-appearance: none; appearance: none;
  border: 0; outline: 0;
  cursor: pointer;
  width: 52px; height: 52px;
  border-radius: 50%;
  display: grid; place-items: center;
  background: var(--pinkActive);
  color: #fff; font-size: 20px; font-weight: 900;
  box-shadow: 0 10px 18px rgba(0,0,0,.06);
}
.go-btn[disabled]{ opacity:.6; cursor: default; }

/* 5) Toast (для projects.js — функция toast()) */
.toast{
  position: fixed;
  right: 16px; bottom: 16px;
  padding: 10px 14px;
  border-radius: 10px;
  background: #222;
  color: #fff;
  font: 500 14px/1 Inter, system-ui, -apple-system, Segoe UI, Arial;
  opacity: 0; transform: translateY(8px);
  transition: .2s ease;
  z-index: 10002;
}
.toast.show{ opacity: 1; transform: translateY(0); }
.toast.ok{ background:#16a34a; }
.toast.error{ background:#dc2626; }

/* 6) Мелочи для формы в модалке */
#create-project-form .field{ margin-bottom: 10px; }
#create-project-form .modal-actions{ margin-top: 14px; }
/* ==== PATCH: date inputs border in Create Project modal ==== */

/* единый вид всех полей в попапе */
#create-project-modal .field{
  height: 48px;
  border: 2px solid #0b0b0b !important;  /* обводка как у текстового */
  border-radius: 12px;
  background: #fff;
  color: #000;
  padding: 12px 14px;
}

/* нормализуем нативный date-инпут и даём ему ту же рамку */
#create-project-modal input[type="date"].field{
  -webkit-appearance: none;
  appearance: none;
  line-height: 1;
}

/* курсор и иконка календаря */
#create-project-modal input[type="date"].field::-webkit-calendar-picker-indicator{
  cursor: pointer;
  margin-right: 6px;
}

/* фокус */
#create-project-modal .field:focus{
  outline: none;
  border-color: #ff6ea1;
  box-shadow: 0 0 0 3px rgba(255,110,161,.25);
}

/* сетка, чтобы поля тянулись на всю ширину своей колонки */
#create-project-modal .grid-2 .field{ width: 100%; }


/* ===== Mobile drawer for Projects (additive) ===== */
@media (max-width: 768px){
  :root{ --rail-w: 22px; }

  /* Розовый рейл слева (всегда видим) */
  .m-rail{
    position: fixed; inset: 0 auto 0 0;
    width: var(--rail-w);
    background: #ffe0ea;
    z-index: 1300;                       /* выше меню */
    transform: translateX(0);
    transition: transform .36s cubic-bezier(.22,.61,.36,1);
  }
  .m-burger{
    position: absolute; left: 50%; top: 50%;
    transform: translate(-50%,-50%);
    width: 28px; height: 28px; padding: 0; border: 0; background: transparent;
    display: grid; place-items: center; cursor: pointer;
  }
  .m-burger img{ width: 20px; height: 20px; display:block; }

  /* Контент — отступ слева под рейл */
  .content{
    margin-left: 0 !important;
    padding: 24px 16px 24px calc(16px + var(--rail-w)) !important;
  }
  .title{ font-size: 42px !important; }

  /* Дровер: полноэкранное меню, выезжает слева */
  .sidebar{
    position: fixed !important; top: 0; left: 0; right: 0; bottom: 0;
    width: 100vw; max-width: 100vw;
    transform: translateX(-100%);               /* скрыто */
    transition: transform .36s cubic-bezier(.22,.61,.36,1);
    background: rgba(255,255,255,.96);
    -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px);
    box-shadow: 0 20px 50px rgba(0,0,0,.12);
    z-index: 1200;                               /* ниже рейла */
    padding: 24px 20px;
  }
  .mnav-open .sidebar{
    transform: translateX(0);
    padding-right: calc(20px + var(--rail-w));   /* чтобы контент меню не уехал под рейл */
  }

  /* При открытии рейл уезжает вправо и прилипает к правому краю */
  .mnav-open .m-rail{
    transform: translateX(calc(100vw - var(--rail-w)));
  }

  /* Бэкдроп опционален (выключен, т.к. меню на весь экран). Включить — раскомментируй:
  .m-backdrop{ position:fixed; inset:0; background:rgba(255,255,255,.55);
               backdrop-filter: blur(7px); opacity:0; pointer-events:none; transition:.28s; z-index:1190; }
  .mnav-open .m-backdrop{ opacity:1; pointer-events:auto; }
  */

  /* Карточки проектов — чуть компактнее на мобиле */
  .projects{ gap: 14px !important; }
  .project-card, .projects .project-row{
    padding: 16px !important; border-radius: 16px !important;
  }
  .project-name{ font-size: 24px !important; }
  .go, .go-btn{ width: 48px !important; height: 48px !important; }
}

/* Прячем бургер и рейл на десктопе */
#mRail, #mBurger{ display:none; }
@media (max-width: 900px){
  #mRail, #mBurger{ display:block; }
}

/* ===== Projects card: layout + left pill + perfect arrow ===== */

/* Базовая сетка карточки: название — центр.дата — круглая стрелка */
.projects .project-row,
.project-card{
  position: relative;
  display: grid;
  grid-template-columns: 1fr auto auto; /* name | date | arrow */
  column-gap: 18px;
  align-items: center;
  background: #ffd7e5;               /* ваш var(--panel) */
  border-radius: 16px;
  padding: 18px 18px 18px 62px;      /* слева место под «таблетку» */
  box-shadow: 0 8px 20px rgba(0,0,0,.06);
}

/* Левая вертикальная «таблетка» */
.projects .project-row::before,
.project-card::before{
  content: "";
  position: absolute;
  left: 12px;
  top: 12px;
  bottom: 12px;
  width: 16px;
  border-radius: 10px;
  background: linear-gradient(180deg,#ff6ea1 0%, #f86491 100%);
  box-shadow: inset 0 0 0 3px #ffc0d4; /* светлая окантовка как на рефе */
}

/* Название */
.projects .project-row .project-name,
.project-card .project-name{
  font-weight: 900;
  font-size: 28px;
  letter-spacing: .2px;
}

/* Дата — по центру строки */
.projects .project-row .project-dates,
.project-card .project-dates{
  justify-self: center;          /* центр между name и arrow */
  font-weight: 600;
  color: #3a3a3a;
}

/* Кнопка-стрелка — ИДЕАЛЬНЫЙ КРУГ */
.go, .go-btn{
  -webkit-appearance: none; appearance: none;
  display: grid; place-items: center;
  width: 52px; aspect-ratio: 1 / 1; /* круг при любых масштабах */
  border-radius: 50%;
  border: 0; outline: 0; cursor: pointer;
  background: #f86491;
  box-shadow: 0 10px 18px rgba(0,0,0,.12);
}
.go img, .go-btn img{ width: 20px; height: 20px; display: block; filter: brightness(100%); }

/* Ховер/тап — лёгкий подъём */
.go:hover, .go-btn:hover{ transform: translateY(-1px); }
.go:active, .go-btn:active{ transform: translateY(0); }

/* ===== Mobile: дата под названием, стрелка справа ===== */
@media (max-width: 768px){
  .projects .project-row, .project-card{
    grid-template-columns: 1fr auto;
    grid-template-areas:
      "title  arrow"
      "dates  arrow";
    row-gap: 4px;
    padding: 16px 16px 16px 58px;
  }
  .projects .project-row .project-name,
  .project-card .project-name{ grid-area: title; font-size: 22px; }
  .projects .project-row .project-dates,
  .project-card .project-dates{ grid-area: dates; justify-self: start; font-weight: 500; }
  .go, .go-btn{ grid-area: arrow; width: 48px; }
}

/* ==== MOBILE FIX: project card layout (<=768px) ==== */
@media (max-width: 768px){

  /* список компактнее и с учётом левого рейла */
  .projects{
    padding-left: calc(16px + var(--rail-w, 22px)) !important;
    padding-right: 16px !important;
    gap: 12px !important;
  }

  /* карточка = 2 строки: title / dates  + стрелка справа на обе строки */
  .projects .project-row,
  .project-card{
    display: grid !important;
    grid-template-columns: 1fr auto !important;   /* текст | стрелка */
    grid-template-areas:
      "title arrow"
      "dates arrow";
    align-items: center;
    row-gap: 6px; column-gap: 12px;
    padding: 14px 14px 14px 64px !important;      /* больше отступ слева под «таблетку» */
    border-radius: 16px !important;
    box-shadow: 0 8px 20px rgba(0,0,0,.08) !important;
  }

  /* левая «таблетка» — тоньше и не заезжает на текст */
  .projects .project-row::before,
  .project-card::before{
    left: 16px !important;
    top: 10px !important;
    bottom: 10px !important;
    width: 12px !important;
    border-radius: 8px !important;
    background: linear-gradient(180deg,#ff6ea1 0%, #f86491 100%) !important;
    box-shadow: inset 0 0 0 2px #ffc0d4 !important;
  }

  /* заголовок — первая строка */
  .projects .project-row .project-name,
  .project-card .project-name{
    grid-area: title;
    font-size: 20px !important;
    line-height: 1.15 !important;
    margin: 0 !important;
    word-break: break-word;
  }

  /* даты — под заголовком, слева */
  .projects .project-row .project-dates,
  .project-card .project-dates{
    grid-area: dates;
    justify-self: start;
    font-size: 13px !important;
    color: #444 !important;
    margin: 0 !important;
  }

  /* стрелка — идеальный круг, справа, центр по высоте */
  .go, .go-btn{
    grid-area: arrow;
    justify-self: end; align-self: center;
    width: 46px !important;
    aspect-ratio: 1 / 1 !important;   /* круг */
    border-radius: 50% !important;
    display: grid; place-items: center;
    background: var(--pinkActive, #f86491) !important;
    border: 0; outline: 0;
    box-shadow: 0 10px 18px rgba(0,0,0,.12);
  }
  .go img, .go-btn img{ width: 18px; height: 18px; display: block; }
}

/* FIX: убираем двойной левый отступ у списка проектов на мобиле */
@media (max-width: 768px){
  /* этот остаётся — для всего контента */
  .content{
    padding: 24px 16px 24px calc(16px + var(--rail-w, 22px)) !important;
  }
  /* а у списка — обычные поля без rail */
  .projects{
    padding-left: 16px !important;
    padding-right: 16px !important;
  }
  /* на всякий случай убираем возможные сдвиги карточек */
  .projects .project-row,
  .project-card{ margin-left: 0 !important; }
}

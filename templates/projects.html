{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All projects — Qizil pomada</title>

  <!-- CSRF meta (чтобы гарантированно выставлялась cookie) -->
  <meta name="csrf-token" content="{{ csrf_token }}">

  <link rel="stylesheet" href="{% static 'css/projects.css' %}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700;800;900&display=swap" rel="stylesheet">


</head>
<body>

  <!-- Скрытая форма, чтобы Django выдал csrftoken cookie -->
  <form style="display:none">{% csrf_token %}</form>

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="brand">
      <a href="{% url 'index' %}">
        <img src="{% static 'img/brand-logo.png' %}" alt="Qizil pomada" />
      </a>
    </div>

    <div class="side-actions">
      <button class="action" id="btnCreateProject" data-open-create-project type="button" aria-haspopup="dialog" aria-controls="create-project-modal">
        <span>Create<br>New Project</span>
        <i>+</i>
      </button>
    </div>

    <nav class="nav">
      <a class="nav-item" href="{% url 'index' %}">
        <img src="{% static 'img/ic-dashboard.png' %}" alt="">
        <span>Dashboard</span>
      </a>
      <a class="nav-item active" href="{% url 'projects' %}">
        <img src="{% static 'img/ic-projects.png' %}" alt="">
        <span>All projects</span>
      </a>
      <a class="nav-item" href="{% url 'members' %}">
        <img src="{% static 'img/ic-team.png' %}" alt="">
        <span>Team members</span>
      </a>
    </nav>

    <div class="powered">
      <div class="powered-text">Designed &amp; powered by</div>
      <img class="powered-logo" src="{% static 'img/joan-logo.png' %}" alt="JOAN">
    </div>
  </aside>

  <!-- Content -->
  <main class="content">
    <header class="header">
      <div>
        <h1 class="title">All projects</h1>
        <div class="status">Role: <b>Editor</b></div>
      </div>
    </header>

    <section class="projects" id="projects-list">
      <!-- JS заполнит карточки проектов -->
    </section>
  </main>

  <!-- Overlay + Modal -->
  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <div id="create-project-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="createTitle">
    <h3 class="modal-title" id="createTitle">ENTER NAME OF PROJECT</h3>

    <form id="create-project-form">
      <input name="name" class="field" placeholder="Project name" autocomplete="off" required>

      <h3 class="modal-title small">ENTER ACTIVE DATES</h3>
      <div class="grid-2">
        <div>
          <div class="hint">from</div>
          <input name="from" class="field" type="date">
        </div>
        <div>
          <div class="hint">to</div>
          <input name="to" class="field" type="date">
        </div>
      </div>

      <div class="modal-actions">
        <button class="btn" type="submit">CREATE</button>
        <button class="btn ghost" type="button" data-close>Cancel</button>
      </div>
    </form>
  </div>

  <!-- Corner alerts / Toast area -->
  <div id="corner" class="corner" aria-live="polite" aria-atomic="true"></div>

  <!-- JS -->
  <script src="{% static 'js/api.js' %}"></script>
  <script src="{% static 'js/projects.js' %}"></script>
</body>
</html>
